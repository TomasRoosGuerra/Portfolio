<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Tomas Roos Portfolio</title>
    <meta
      name="description"
      content="A crisp, high-performance portfolio showcasing selected projects and photography."
    />
    <meta name="theme-color" content="#0A0A0A" />

    <!-- Open Graph -->
    <meta property="og:title" content="Tomas Roos Portfolio" />
    <meta
      property="og:description"
      content="Selected works in product design, UI/UX, and Illustrations."
    />
    <meta property="og:type" content="website" />

    <!-- Favicons -->
    <link rel="icon" href="assets/favicon.png" />

    <!-- Preload hero image -->
    <link rel="preload" as="image" href="assets/other/port-folio.png" />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Fraunces:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700&display=swap"
      rel="stylesheet"
    />
    <style>
      /* Reset & Base Styles */
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      :root {
        /* Beige palette and typography */
        --bg-primary: #f5efe6; /* matte beige */
        --bg-secondary: #f8f4ee; /* ivory */
        --bg-tertiary: #fffaf2; /* soft cream */
        --text-primary: #2b2a28; /* soft charcoal */
        --text-secondary: #4a4744;
        --text-muted: #6e6a65; /* muted taupe */
        --accent: #9e8f7a; /* desaturated brown */
        --accent-hover: #8a7c68;
        --border: #e6dfd6;
        --shadow: rgba(54, 47, 45, 0.1);

        /* Typography */
        --font-primary: Inter, -apple-system, BlinkMacSystemFont, "Segoe UI",
          Roboto, Helvetica, Arial, sans-serif;
        --font-mono: "SF Mono", Monaco, "Cascadia Code", monospace;

        /* Spacing - Professional, balanced */
        --section-padding: clamp(48px, 8vw, 80px);
        --container-max: 1200px;
        --spacing-xs: 8px;
        --spacing-sm: 16px;
        --spacing-md: 24px;
        --spacing-lg: 32px;
        --spacing-xl: 48px;

        /* Typography Scale - Modular */
        --text-xs: 0.75rem; /* 12px */
        --text-sm: 0.875rem; /* 14px */
        --text-base: 1rem; /* 16px */
        --text-lg: 1.125rem; /* 18px */
        --text-xl: 1.25rem; /* 20px */
        --text-2xl: 1.5rem; /* 24px */
        --text-3xl: 1.875rem; /* 30px */
        --text-4xl: 2.25rem; /* 36px */
        --text-5xl: clamp(2.5rem, 5vw, 3rem); /* 40-48px */

        /* Animations */
        --ease-out-expo: cubic-bezier(0.2, 0.6, 0.2, 1);
        --ease-in-out: cubic-bezier(0.4, 0, 0.2, 1);
      }

      html {
        scroll-behavior: smooth;
        scroll-padding-top: 80px;
      }

      body {
        font-family: var(--font-primary);
        color: var(--text-primary);
        font-size: var(--text-base);
        line-height: 1.6;
        overflow-x: hidden;
        background: radial-gradient(
            1200px 800px at 20% -10%,
            #fbf8f3 0%,
            rgba(0, 0, 0, 0) 60%
          ),
          radial-gradient(
            1000px 700px at 120% 10%,
            #f3ede5 0%,
            rgba(0, 0, 0, 0) 50%
          ),
          var(--bg-primary);
      }

      /* Header */
      .site-header {
        position: fixed;
        top: 0;
        width: 100%;
        z-index: 50;
        background: rgba(255, 255, 255, 0.72);
        backdrop-filter: blur(12px) saturate(1.05);
        border-bottom: 1px solid var(--border);
        transition: background 0.4s var(--ease-out-expo),
          border-color 0.4s var(--ease-out-expo);
      }

      .site-header.scrolled {
        background: rgba(255, 255, 255, 0.86);
      }

      .header-wrap {
        max-width: var(--container-max);
        margin: 0 auto;
        padding: 0 clamp(20px, 5vw, 40px);
        display: flex;
        align-items: center;
        justify-content: space-between;
        height: 80px;
      }

      .brand {
        font-size: 18px;
        font-weight: 600;
        color: var(--text-primary);
        text-decoration: none;
        position: relative;
      }

      .brand::after {
        content: "";
        position: absolute;
        bottom: -2px;
        left: 0;
        width: 0;
        height: 2px;
        background: var(--accent);
        transition: width 0.3s var(--ease-out-expo);
      }

      .brand:hover::after {
        width: 100%;
      }

      .nav__toggle {
        display: none;
        background: none;
        border: none;
        color: var(--text-primary);
        font-size: 14px;
        cursor: pointer;
      }

      .nav__list {
        display: flex;
        list-style: none;
        gap: 40px;
      }

      .nav__list a {
        color: var(--text-secondary);
        text-decoration: none;
        font-size: 14px;
        font-weight: 500;
        letter-spacing: 0.5px;
        position: relative;
        transition: color 0.3s var(--ease-out-expo);
      }

      .nav__list a:hover {
        color: var(--text-primary);
      }

      .nav__list a::after {
        content: "";
        position: absolute;
        bottom: -8px;
        left: 50%;
        transform: translateX(-50%);
        width: 4px;
        height: 4px;
        border-radius: 50%;
        background: var(--accent);
        opacity: 0;
        transition: opacity 0.3s var(--ease-out-expo);
      }

      .nav__list a:hover::after {
        opacity: 1;
      }

      /* Hero Section */
      .hero {
        min-height: 100vh;
        display: flex;
        align-items: center;
        position: relative;
        padding: 120px 0 80px;
        background: radial-gradient(
          ellipse at top,
          rgba(158, 143, 122, 0.12) 0%,
          transparent 50%
        );
      }

      .hero-wrap {
        max-width: var(--container-max);
        margin: 0 auto;
        padding: 0 clamp(20px, 5vw, 40px);
        display: grid;
        grid-template-columns: 1fr auto;
        gap: 60px;
        align-items: center;
      }

      .hero__content {
        max-width: 600px;
      }

      .hero__badge {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        padding: 6px 16px;
        background: rgba(158, 143, 122, 0.08);
        border: 1px solid rgba(158, 143, 122, 0.18);
        border-radius: 50px;
        font-size: 12px;
        color: var(--accent);
        font-weight: 500;
        margin-bottom: 24px;
        opacity: 0;
        animation: slideUpFade 0.8s 0.2s both var(--ease-out-expo);
      }

      /* Subtle 80s-inspired geometric accents */
      .hero__badge::before {
        content: "";
        width: 8px;
        height: 8px;
        background: var(--accent);
        border-radius: 2px;
        margin-right: 8px;
        transform: rotate(45deg);
      }

      .eyebrow::before {
        content: "◆";
        margin-right: 8px;
        color: var(--accent);
        font-size: 0.8em;
      }

      .hero__title {
        font-family: "Fraunces", ui-serif, Georgia, serif;
        font-size: var(--text-5xl);
        font-weight: 600;
        font-style: italic;
        line-height: 1.1;
        letter-spacing: -0.02em;
        margin-bottom: var(--spacing-md);
        color: var(--text-primary);
        opacity: 0;
        text-align: center;
        animation: slideUpFade 0.8s 0.4s both var(--ease-out-expo);
      }

      .hero__subtitle {
        font-size: var(--text-lg);
        color: var(--text-secondary);
        margin-bottom: var(--spacing-lg);
        line-height: 1.6;
        opacity: 0;
        text-align: center;
        animation: slideUpFade 0.8s 0.6s both var(--ease-out-expo);
      }

      .hero__actions {
        display: flex;
        gap: 16px;
        justify-content: center;
        flex-wrap: wrap;
        opacity: 0;
        animation: slideUpFade 0.8s 0.8s both var(--ease-out-expo);
      }

      /* CTA color to echo reference */
      .btn--cta {
        background: #ff7a1a;
        color: #fff;
        border: 1px solid #ff7a1a;
        box-shadow: 0 10px 30px rgba(255, 122, 26, 0.25);
      }
      .btn--cta:hover {
        background: #e96e17;
        border-color: #e96e17;
        transform: translateY(-2px);
        box-shadow: 0 14px 34px rgba(233, 110, 23, 0.3);
      }

      /* Floating images around hero */
      .hero-floats {
        pointer-events: none;
      }
      .float-img {
        position: absolute;
        width: clamp(120px, 16vw, 220px);
        aspect-ratio: 4/5;
        border-radius: 16px;
        overflow: hidden;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.18);
        transform-origin: center;
        animation: gentleFloat 12s ease-in-out infinite;
      }
      .float-img img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        display: block;
      }
      .float-tl {
        top: 14%;
        left: 6%;
        transform: rotate(-18deg);
        animation-delay: 0s;
      }
      .float-tr {
        top: 10%;
        right: 8%;
        transform: rotate(18deg);
        animation-delay: 1.2s;
      }
      .float-bl {
        bottom: 8%;
        left: 12%;
        transform: rotate(10deg);
        animation-delay: 0.6s;
      }
      .float-br {
        bottom: 14%;
        right: 10%;
        transform: rotate(-12deg);
        animation-delay: 1.8s;
      }

      @keyframes gentleFloat {
        0%,
        100% {
          transform: translateY(0) rotate(var(--rot, 0deg));
        }
        50% {
          transform: translateY(-8px) rotate(var(--rot, 0deg));
        }
      }

      .hero__image {
        width: 400px;
        height: 500px;
        border-radius: 20px;
        overflow: hidden;
        position: relative;
        opacity: 0;
        animation: slideUpFade 0.8s 1s both var(--ease-out-expo);
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
      }

      .hero__image img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        transition: transform 0.5s var(--ease-out-expo);
      }

      .hero__image:hover img {
        transform: scale(1.05);
      }

      /* Buttons */
      .btn {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        padding: 14px 28px;
        border-radius: 50px;
        text-decoration: none;
        font-weight: 500;
        font-size: 14px;
        transition: all 0.3s var(--ease-out-expo);
        position: relative;
        overflow: hidden;
      }

      .btn--primary {
        background: linear-gradient(
            0deg,
            rgba(255, 255, 255, 0.6),
            rgba(255, 255, 255, 0.6)
          ),
          #efe7dc;
        color: var(--text-primary);
        border: 1px solid var(--border);
      }

      .btn--primary::before {
        content: "";
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(
          90deg,
          transparent,
          rgba(255, 255, 255, 0.2),
          transparent
        );
        transition: left 0.6s;
      }

      .btn--primary:hover::before {
        left: 100%;
      }

      .btn--primary:hover {
        background: linear-gradient(
            0deg,
            rgba(255, 255, 255, 0.7),
            rgba(255, 255, 255, 0.7)
          ),
          #e9e0d4;
        transform: translateY(-2px);
        box-shadow: 0 10px 30px rgba(54, 47, 45, 0.15);
      }

      .btn--ghost {
        background: transparent;
        color: var(--text-primary);
        border: 1px solid var(--border);
      }

      .btn--ghost:hover {
        background: rgba(158, 143, 122, 0.08);
        border-color: var(--border);
        transform: translateY(-2px);
      }

      /* Sections */
      .section {
        padding: var(--section-padding) 0;
        position: relative;
      }

      .section--alt {
        background: var(--bg-secondary);
      }

      .wrap {
        max-width: var(--container-max);
        margin: 0 auto;
        padding: 0 clamp(20px, 5vw, 40px);
      }

      .section__header {
        text-align: center;
        margin-bottom: var(--spacing-xl);
      }

      .eyebrow {
        font-size: var(--text-xs);
        color: var(--text-muted);
        font-weight: 600;
        letter-spacing: 0.1em;
        text-transform: uppercase;
        margin-bottom: var(--spacing-sm);
        opacity: 0;
        animation: slideUpFade 0.9s both var(--ease-out-expo);
      }

      .section__lead {
        font-size: var(--text-lg);
        color: var(--text-secondary);
        max-width: 65ch;
        margin: 0 auto;
        line-height: 1.7;
        opacity: 0;
        animation: slideUpFade 0.6s 0.2s both var(--ease-out-expo);
      }

      /* Project Grid */
      .projects {
        /* Tunable tokens for best-practice layout */
        --work-min: 360px; /* minimum card width on desktop */
        --work-gap: 40px; /* gutter on desktop */
        --work-max-cols: 4; /* hard cap of columns */

        display: grid;
        gap: var(--work-gap);
        /* Auto-fit tracks, centered; clamp min size and prevent over-expansion */
        grid-template-columns: repeat(
          auto-fit,
          minmax(min(100%, var(--work-min)), 1fr)
        );
        justify-content: center;
        width: 100%;
        /* Container width equals N tracks + (N-1) gaps; centers 1–3 items nicely */
        max-width: calc(
          var(--work-max-cols) * var(--work-min) + (var(--work-max-cols) - 1) *
            var(--work-gap)
        );
        margin-inline: auto;
      }

      /* Tablet: max 3 columns, slightly smaller cards and gutters */
      @media (max-width: 1024px) {
        .projects {
          --work-min: 320px;
          --work-gap: 32px;
          --work-max-cols: 3;
        }
      }

      /* Mobile: max 2 columns, compact spacing */
      @media (max-width: 640px) {
        .projects {
          --work-min: 280px;
          --work-gap: 20px;
          --work-max-cols: 2;
        }
      }

      .card {
        background: var(--bg-tertiary);
        border-radius: 20px;
        overflow: hidden;
        transition: all 0.4s var(--ease-out-expo);
        border: 1px solid var(--border);
        opacity: 0;
        animation: slideUpFade 0.6s both var(--ease-out-expo);
        position: relative;
      }

      .card::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 2px;
        background: linear-gradient(
          90deg,
          var(--accent),
          transparent,
          var(--accent)
        );
        opacity: 0;
        transition: opacity 0.3s ease;
      }

      .card:hover::before {
        opacity: 1;
      }

      .card:hover {
        transform: translateY(-4px);
        box-shadow: 0 14px 40px rgba(54, 47, 45, 0.16);
        border-color: var(--border);
      }

      .card__cover {
        display: block;
        aspect-ratio: 16/10;
        overflow: hidden;
        position: relative;
      }

      .card__cover img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        transition: transform 0.5s var(--ease-out-expo);
      }

      .card:hover .card__cover img {
        transform: scale(1.05);
      }

      .card__body {
        padding: var(--spacing-lg);
      }

      .card__title {
        font-size: var(--text-2xl);
        font-weight: 600;
        margin-bottom: var(--spacing-xs);
        line-height: 1.3;
      }

      .card__title a {
        color: var(--text-primary);
        text-decoration: none;
        transition: color 0.3s var(--ease-out-expo);
      }

      .card__title a:hover {
        color: var(--text-primary);
      }

      .card__meta {
        font-size: var(--text-sm);
        color: var(--text-muted);
        margin-bottom: var(--spacing-sm);
        font-family: var(--font-mono);
      }

      .card__desc {
        font-size: var(--text-base);
        color: var(--text-secondary);
        margin-bottom: var(--spacing-md);
        line-height: 1.6;
      }

      .tags {
        display: flex;
        flex-wrap: wrap;
        gap: 8px;
        list-style: none;
      }

      .tags li {
        padding: 6px 12px;
        background: rgba(0, 255, 136, 0.1);
        border: 1px solid rgba(0, 255, 136, 0.2);
        border-radius: 50px;
        font-size: 12px;
        color: var(--accent);
        font-weight: 500;
      }

      /* Gallery */
      .gallery {
        display: grid;
        gap: 20px;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        width: 100%;
        justify-content: center;
      }

      /* Limit to max 4 columns */
      @media (min-width: 1000px) {
        .gallery {
          grid-template-columns: repeat(4, 1fr);
          max-width: 1000px;
        }
      }

      .tile {
        aspect-ratio: 4/5;
        border-radius: 16px;
        overflow: hidden;
        background: var(--bg-tertiary);
        border: 1px solid var(--border);
        cursor: pointer;
        transition: all 0.4s var(--ease-out-expo);
        opacity: 0;
        animation: slideUpFade 0.6s both var(--ease-out-expo);
      }

      .tile:hover {
        transform: scale(1.02);
        box-shadow: 0 15px 40px rgba(0, 0, 0, 0.2);
      }

      .tile img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        transition: transform 0.5s var(--ease-out-expo);
      }

      .tile:hover img {
        transform: scale(1.05);
      }

      /* About Section */
      .about {
        display: grid;
        grid-template-columns: 1.1fr 1.3fr;
        gap: 32px;
        align-items: start;
      }

      /* Panel cards */
      .panel {
        background: var(--bg-alt);
        border: 1px solid var(--line);
        border-radius: 24px;
        box-shadow: var(--shadow-1);
      }

      .about__left {
        padding: 28px;
      }

      .about__profile {
        display: grid;
        gap: 20px;
        place-items: center;
        text-align: center;
      }

      .about__avatar {
        width: min(100%, 440px);
        aspect-ratio: 1/1;
        border-radius: 28px;
        overflow: hidden;
        background: var(--bg);
        display: grid;
        place-items: center;
      }
      .about__avatar img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        filter: grayscale(20%);
      }

      .about__identity h3 {
        margin: 0 0 6px 0;
        font-weight: 600;
      }
      .about__identity .muted {
        color: var(--muted);
        font-size: 14px;
      }

      .about__right {
        display: grid;
        gap: 24px;
      }

      .about__bio {
        padding: 28px;
      }
      .about__meta {
        padding: 24px 28px;
      }

      .about__badge {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        padding: 6px 12px;
        border-radius: 999px;
        border: 1px solid var(--line);
        background: var(--bg);
        color: var(--accent);
        font-size: 12px;
        margin-bottom: 12px;
      }

      .about__heading {
        font-size: 28px;
        font-weight: 700;
        margin: 0 0 12px 0;
      }

      .about__bio p {
        color: var(--text-secondary);
        line-height: 1.7;
      }

      .role-list {
        display: grid;
        gap: 16px;
        margin: 12px 0 8px 0;
      }
      .role {
        display: grid;
        gap: 4px;
      }
      .role .title {
        font-weight: 600;
      }
      .role .org {
        color: var(--muted);
        font-size: 14px;
      }

      .app-list {
        display: flex;
        gap: 12px;
        flex-wrap: wrap;
        margin-top: 8px;
      }
      .app-chip {
        padding: 6px 10px;
        border: 1px solid var(--line);
        border-radius: 999px;
        background: var(--bg);
        font-size: 12px;
      }

      /* Contact Form */
      .contact {
        max-width: 600px;
        margin: 0 auto;
        text-align: center;
      }

      .contact__form {
        display: grid;
        gap: 24px;
        margin: 48px 0;
        text-align: left;
      }

      .field {
        display: grid;
        gap: 8px;
      }

      .field label {
        font-size: 14px;
        font-weight: 500;
        color: var(--text-secondary);
      }

      .field input,
      .field textarea {
        padding: 16px 20px;
        background: #fffdf9;
        border: 1px solid var(--border);
        border-radius: 12px;
        color: var(--text-primary);
        font-family: inherit;
        font-size: 16px;
        transition: all 0.3s var(--ease-out-expo);
      }

      .field input:focus,
      .field textarea:focus {
        outline: none;
        border-color: var(--border);
        box-shadow: 0 0 0 3px rgba(158, 143, 122, 0.18);
      }

      .contact__note {
        color: var(--text-muted);
        font-size: 14px;
        margin-top: 24px;
      }

      .contact__note a {
        color: var(--text-muted);
        text-decoration: none;
      }

      /* Footer */
      .site-footer {
        background: var(--bg-secondary);
        padding: 40px 0;
        border-top: 1px solid var(--border);
      }

      .site-footer p {
        text-align: center;
        color: var(--text-muted);
        font-size: 14px;
      }

      .site-footer a {
        color: var(--accent);
        text-decoration: none;
      }

      /* Lightbox */
      .lightbox {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.95);
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 1000;
        opacity: 0;
        visibility: hidden;
        transition: all 0.3s var(--ease-out-expo);
      }

      .lightbox[open] {
        opacity: 1;
        visibility: visible;
      }

      .lightbox__close {
        position: absolute;
        top: 20px;
        right: 20px;
        background: none;
        border: none;
        color: var(--text-primary);
        font-size: 32px;
        cursor: pointer;
        z-index: 1001;
        width: 48px;
        height: 48px;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 50%;
        background: rgba(0, 0, 0, 0.5);
        transition: background 0.3s var(--ease-out-expo);
      }

      .lightbox__close:hover {
        background: rgba(0, 0, 0, 0.8);
      }

      .lightbox__img {
        max-width: 90%;
        max-height: 90%;
        object-fit: contain;
        border-radius: 12px;
      }

      /* Animations */
      @keyframes slideUpFade {
        from {
          opacity: 0;
          transform: translateY(30px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      @keyframes pulse {
        0%,
        100% {
          opacity: 1;
        }
        50% {
          opacity: 0.5;
        }
      }

      /* Mobile Responsive */
      @media (max-width: 768px) {
        :root {
          --section-padding: clamp(40px, 8vw, 80px);
        }

        .nav__toggle {
          display: block;
        }

        .nav__list {
          position: absolute;
          top: 100%;
          left: 0;
          width: 100%;
          background: var(--bg-primary);
          border-top: 1px solid var(--border);
          flex-direction: column;
          padding: 20px;
          gap: 20px;
          transform: translateY(-100%);
          opacity: 0;
          visibility: hidden;
          transition: all 0.3s var(--ease-out-expo);
        }

        .nav__list.active {
          transform: translateY(0);
          opacity: 1;
          visibility: visible;
        }

        .hero-wrap {
          grid-template-columns: 1fr;
          text-align: center;
          gap: 40px;
        }

        .float-img {
          display: none;
        }

        .hero__image {
          width: 100%;
          max-width: 300px;
          height: 350px;
          margin: 0 auto;
        }

        .hero__title {
          font-size: clamp(36px, 10vw, 48px);
        }

        .hero__subtitle {
          width: 100% !important;
        }

        .projects {
          /* Use variable overrides instead of redefining grid */
          --work-min: 280px;
          --work-gap: 24px;
          --work-max-cols: 2;
        }

        .about {
          grid-template-columns: 1fr;
          gap: 20px;
        }
        .about__left {
          padding: 20px;
        }
        .about__right {
          gap: 16px;
        }

        .gallery {
          gap: 16px;
          grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
        }

        .hero__actions {
          justify-content: center;
        }

        .btn {
          padding: 12px 24px;
          font-size: 14px;
        }
      }

      @media (max-width: 480px) {
        .card__body {
          padding: 24px;
        }

        .hero__actions {
          flex-direction: column;
          align-items: center;
        }

        .btn {
          width: 100%;
          max-width: 280px;
          justify-content: center;
        }
      }

      /* Smooth reveal animations on scroll */
      .reveal-up {
        opacity: 0;
        transform: translateY(30px);
        transition: all 0.6s var(--ease-out-expo);
      }

      .reveal-up.visible {
        opacity: 1;
        transform: translateY(0);
      }

      .reveal-fade {
        opacity: 0;
        transition: opacity 0.6s var(--ease-out-expo);
      }

      .reveal-fade.visible {
        opacity: 1;
      }
    </style>
  </head>
  <body>
    <header class="site-header">
      <div class="header-wrap">
        <a class="brand" href="#top">Tomas&nbsp;Roos</a>
        <nav class="nav" aria-label="Primary">
          <button
            class="nav__toggle"
            aria-expanded="false"
            aria-controls="nav-menu"
          >
            Menu
          </button>
          <ul id="nav-menu" class="nav__list">
            <li><a href="#work">Work</a></li>
            <li><a href="#photos">Designs</a></li>
            <li><a href="#about">About</a></li>
            <li><a href="#contact">Contact</a></li>
            <li>
              <a href="admin.html" style="opacity: 0.6; font-size: 0.9em"
                >Admin</a
              >
            </li>
          </ul>
        </nav>
      </div>
    </header>

    <main id="content">
      <!-- HERO -->
      <section id="top" class="hero">
        <div
          class="hero-wrap"
          style="grid-template-columns: 1fr; text-align: center"
        >
          <div class="hero__content" style="margin: 0 auto; max-width: 820px">
            <div class="hero__badge">This is Tomas</div>
            <h1 class="hero__title">Visual and<br />Product designer</h1>
            <p class="hero__subtitle">that startups can count on</p>
            <div class="hero__actions">
              <a class="btn btn--cta" href="#work">Check out my works</a>
            </div>
          </div>
        </div>

        <!-- Floating images -->
        <div class="hero-floats" aria-hidden="true">
          <div class="float-img float-tl" style="--rot: -18deg">
            <img src="assets/other/Preview-01.jpg" alt="" loading="eager" />
          </div>
          <div class="float-img float-tr" style="--rot: 18deg">
            <img src="assets/sharely/Sharely.png" alt="" loading="eager" />
          </div>
          <div class="float-img float-bl" style="--rot: 10deg">
            <img src="assets/brygg/brygg-hemsida.png" alt="" loading="eager" />
          </div>
          <div class="float-img float-br" style="--rot: -12deg">
            <img
              src="assets/tidings/tidings-slide.jpg"
              alt=""
              loading="eager"
            />
          </div>
        </div>
      </section>

      <!-- FEATURED WORK -->
      <section id="work" class="section">
        <div class="wrap">
          <div class="section__header">
            <h2 class="eyebrow">What I've Been Working On</h2>
            <p class="section__lead">
              A few projects I'm particularly proud of. Each one taught me
              something new about making technology feel more human.
            </p>
          </div>

          <div class="projects">
            <!-- Projects will be loaded dynamically from projects-data.js -->
          </div>
        </div>
      </section>

      <!-- DESIGN GALLERY -->
      <section id="photos" class="section section--alt">
        <div class="wrap">
          <div class="section__header">
            <h2 class="eyebrow">Design Experiments</h2>
            <p class="section__lead">
              Some visual explorations and side projects. These are the things I
              work on when I want to try something new.
            </p>
          </div>
          <div class="gallery">
            <!-- Design tiles will be loaded dynamically from projects-data.js -->
          </div>
        </div>
      </section>

      <!-- ABOUT -->
      <section id="about" class="section">
        <div class="wrap">
          <div class="about">
            <!-- Left profile card -->
            <div class="panel about__left reveal-fade">
              <div class="about__profile">
                <div class="about__avatar">
                  <img
                    src="assets/other/picture-of-me.JPG"
                    alt="Portrait of Tomas Roos"
                    loading="lazy"
                  />
                </div>
                <div class="about__identity">
                  <h3>Tomas Roos</h3>
                  <div class="muted">tomas.roosguerra@gmail.com</div>
                </div>
              </div>
            </div>

            <!-- Right column: bio and meta -->
            <div class="about__right">
              <div class="panel about__bio reveal-up">
                <div class="about__badge">Open to work</div>
                <h3 class="about__heading">About Me</h3>
                <p>
                  Visual/product designer focused on calm, usable interfaces. I
                  like systems that get out of the way and let people do their
                  thing. Based in Stockholm, working with product teams remotely
                  and on-site.
                </p>
                <p>
                  When I'm not designing, I’m probably on a long walk, reading
                  about cities, or tuning my coffee ritual.
                </p>
              </div>

              <div class="panel about__meta reveal-up">
                <h4 style="margin: 0 0 8px 0">Latest Roles</h4>
                <div class="role-list">
                  <div class="role">
                    <div class="title">Product Designer</div>
                    <div class="org">Independent · 2023-Present</div>
                  </div>
                  <div class="role">
                    <div class="title">UI Designer</div>
                    <div class="org">Various startups</div>
                  </div>
                </div>

                <h4 style="margin: 16px 0 8px 0">Main Apps</h4>
                <div class="app-list">
                  <span class="app-chip">Figma</span>
                  <span class="app-chip">Sketch</span>
                  <span class="app-chip">Photoshop</span>
                  <span class="app-chip">Framer</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>
    </main>

    <footer class="site-footer">
      <div class="wrap">
        <p>
          © <span id="year"></span> Tomas Roos ·
          <a href="https://www.linkedin.com/in/tomas-roos/">LinkedIn</a>
        </p>
      </div>
    </footer>

    <!-- LIGHTBOX -->
    <dialog class="lightbox" aria-label="Image Viewer">
      <button class="lightbox__close" aria-label="Close lightbox">×</button>
      <img class="lightbox__img" src="" alt="Expanded image" />
    </dialog>

    <!-- Firebase SDK -->
    <script type="module">
      import { initializeApp } from "https://www.gstatic.com/firebasejs/12.4.0/firebase-app.js";
      import {
        getFirestore,
        collection,
        getDocs,
      } from "https://www.gstatic.com/firebasejs/12.4.0/firebase-firestore.js";

      // Your Firebase config
      const firebaseConfig = {
        apiKey: "AIzaSyBilQwP9N6kCw1IsxnDDkvkEj7HUsLTtAE",
        authDomain: "portfolio-7ba48.firebaseapp.com",
        projectId: "portfolio-7ba48",
        storageBucket: "portfolio-7ba48.firebasestorage.app",
        messagingSenderId: "1022085096489",
        appId: "1:1022085096489:web:9182270ab64bd18aba2838",
        measurementId: "G-ELZZ0CREEN",
      };

      const app = initializeApp(firebaseConfig);
      const db = getFirestore(app);

      // Load projects from Firebase
      async function loadProjectsFromFirebase() {
        try {
          const projectsSnapshot = await getDocs(collection(db, "projects"));
          const projects = [];
          projectsSnapshot.forEach((doc) => {
            const data = doc.data();
            if (data.published) {
              projects.push({
                id: doc.id,
                ...data,
              });
            }
          });

          // Sort by createdAt (newest first)
          projects.sort(
            (a, b) => new Date(b.createdAt) - new Date(a.createdAt)
          );

          // Update the global projectsData
          window.projectsData = {
            projects: projects,
            designs: projects.filter(
              (p) =>
                p.category === "design" ||
                p.category === "ui-ux" ||
                p.category === "branding"
            ),
          };

          // Load the content
          loadProjects();
          loadDesigns();
        } catch (error) {
          console.error("Error loading projects from Firebase:", error);
          // Fallback to static data
          loadProjectsFromStatic();
        }
      }

      // Fallback to static data
      function loadProjectsFromStatic() {
        // Load static data as fallback
        const script = document.createElement("script");
        script.src = "js/projects-data.js";
        script.onload = () => {
          loadProjects();
          loadDesigns();
        };
        document.head.appendChild(script);
      }

      // Initialize when DOM is ready
      document.addEventListener("DOMContentLoaded", () => {
        loadProjectsFromFirebase();
      });
    </script>

    <script>
      // Set current year
      document.getElementById("year").textContent = new Date().getFullYear();

      // Smart grid system - prevents half-full rows
      function adjustGridColumns() {
        const projectsGrid = document.querySelector(".projects");
        const galleryGrid = document.querySelector(".gallery");

        function calculateOptimalColumns(
          items,
          container,
          minWidth,
          maxColumns = 4
        ) {
          const containerWidth = container.offsetWidth;
          const availableWidth =
            containerWidth -
            (parseInt(getComputedStyle(container).gap) || 0) * (maxColumns - 1);
          const maxPossibleColumns = Math.floor(availableWidth / minWidth);
          const actualColumns = Math.min(maxPossibleColumns, maxColumns);

          console.log(`Grid calculation:`, {
            itemsCount: items.length,
            containerWidth,
            minWidth,
            maxColumns,
            maxPossibleColumns,
            actualColumns,
          });

          // Special handling for even numbers of items
          if (items.length >= 2 && items.length <= 4) {
            // For 2-4 items, prefer 2 columns if it fits
            if (actualColumns >= 2) {
              console.log(`Using 2 columns for ${items.length} items`);
              return 2;
            }
          }

          if (items.length >= 6 && items.length <= 8) {
            // For 6-8 items, prefer 3 columns if it fits
            if (actualColumns >= 3) {
              console.log(`Using 3 columns for ${items.length} items`);
              return 3;
            }
          }

          // Find the best column count that minimizes empty slots in the last row
          let bestColumns = actualColumns;
          let minEmptySlots = Infinity;

          for (let cols = 1; cols <= actualColumns; cols++) {
            const itemsPerRow = cols;
            const fullRows = Math.floor(items.length / itemsPerRow);
            const itemsInLastRow = items.length % itemsPerRow;
            const emptySlots =
              itemsInLastRow === 0 ? 0 : itemsPerRow - itemsInLastRow;

            if (emptySlots < minEmptySlots) {
              minEmptySlots = emptySlots;
              bestColumns = cols;
            }
          }

          return bestColumns;
        }

        if (projectsGrid) {
          const projectItems = projectsGrid.querySelectorAll(".card");
          console.log(`Found ${projectItems.length} project items`);
          if (projectItems.length > 0) {
            // Responsive minWidth based on screen size
            const screenWidth = window.innerWidth;
            const minWidth =
              screenWidth < 768 ? 280 : screenWidth < 1024 ? 320 : 350;
            const maxColumns =
              screenWidth < 768 ? 2 : screenWidth < 1024 ? 3 : 4;

            const optimalColumns = calculateOptimalColumns(
              projectItems,
              projectsGrid,
              minWidth,
              maxColumns
            );
            projectsGrid.style.gridTemplateColumns = `repeat(${optimalColumns}, 1fr)`;
            console.log(`Projects grid: ${optimalColumns} columns`);
          }
        }

        if (galleryGrid) {
          const galleryItems = galleryGrid.querySelectorAll(".tile");
          console.log(`Found ${galleryItems.length} gallery items`);
          if (galleryItems.length > 0) {
            // Responsive minWidth based on screen size
            const screenWidth = window.innerWidth;
            const minWidth =
              screenWidth < 768 ? 200 : screenWidth < 1024 ? 240 : 280;
            const maxColumns =
              screenWidth < 768 ? 2 : screenWidth < 1024 ? 3 : 4;

            const optimalColumns = calculateOptimalColumns(
              galleryItems,
              galleryGrid,
              minWidth,
              maxColumns
            );
            galleryGrid.style.gridTemplateColumns = `repeat(${optimalColumns}, 1fr)`;
            console.log(`Gallery grid: ${optimalColumns} columns`);
          }
        }
      }

      // Dynamic content loading
      function loadProjects() {
        const projectsContainer = document.querySelector(".projects");
        if (!projectsContainer || !window.projectsData) return;

        projectsContainer.innerHTML = "";

        window.projectsData.projects.forEach((project, index) => {
          if (!project.published) return;

          const projectCard = document.createElement("article");
          projectCard.className = "card reveal-up";
          projectCard.style.animationDelay = `${index * 0.1}s`;

          projectCard.innerHTML = `
            <div class="card__cover">
              <img src="${project.imageUrl}" alt="${
            project.title
          }" loading="lazy" width="1600" height="1000" />
            </div>
            <div class="card__body">
              <h3 class="card__title">
                <a href="${project.caseStudyUrl || "#"}">${project.title}</a>
              </h3>
              <p class="card__desc">${project.description}</p>
              <div class="tags">
                ${project.tags.map((tag) => `<li>${tag}</li>`).join("")}
              </div>
              <div class="meta" style="display:flex;gap:12px;color:var(--muted);font-size:12px;margin-top:8px;">
                <span>Impact: ${project.impact || "+18% activation"}</span>
                <span>Role: ${project.role || "Product Design"}</span>
              </div>
            </div>
          `;

          projectsContainer.appendChild(projectCard);
        });

        // Grid is now handled by pure CSS - no JavaScript needed!
      }

      function loadDesigns() {
        const galleryContainer = document.querySelector(".gallery");
        if (!galleryContainer || !window.projectsData) return;

        galleryContainer.innerHTML = "";

        window.projectsData.designs.forEach((design, index) => {
          const designTile = document.createElement("button");
          designTile.className = "tile reveal-fade";
          designTile.style.animationDelay = `${index * 0.1}s`;
          designTile.setAttribute("data-lightbox", design.imageUrl);
          designTile.setAttribute("aria-label", `View ${design.title}`);

          designTile.innerHTML = `
            <img src="${design.imageUrl}" alt="${design.title}" loading="lazy" />
          `;

          galleryContainer.appendChild(designTile);
        });

        // Grid is now handled by pure CSS - no JavaScript needed!
      }

      // Content loading is now handled by Firebase module

      // Mobile menu toggle
      const navToggle = document.querySelector(".nav__toggle");
      const navMenu = document.querySelector(".nav__list");

      navToggle?.addEventListener("click", () => {
        const isExpanded = navToggle.getAttribute("aria-expanded") === "true";
        navToggle.setAttribute("aria-expanded", !isExpanded);
        navMenu?.classList.toggle("active");
      });

      // Close mobile menu when clicking nav links
      document.querySelectorAll(".nav__list a").forEach((link) => {
        link.addEventListener("click", () => {
          navToggle?.setAttribute("aria-expanded", "false");
          navMenu?.classList.remove("active");
        });
      });

      // Header scroll effect
      const header = document.querySelector(".site-header");
      let lastScrollY = window.scrollY;

      window.addEventListener("scroll", () => {
        const currentScrollY = window.scrollY;

        if (currentScrollY > 100) {
          header?.classList.add("scrolled");
        } else {
          header?.classList.remove("scrolled");
        }

        lastScrollY = currentScrollY;
      });

      // Smooth reveal animations on scroll
      const observerOptions = {
        threshold: 0.1,
        rootMargin: "0px 0px -50px 0px",
      };

      const observer = new IntersectionObserver((entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            entry.target.classList.add("visible");
          }
        });
      }, observerOptions);

      // Observe all reveal elements
      document.querySelectorAll(".reveal-up, .reveal-fade").forEach((el) => {
        observer.observe(el);
      });

      // Staggered animations for cards and tiles
      document.querySelectorAll(".card").forEach((card, index) => {
        card.style.animationDelay = `${index * 0.1}s`;
      });

      document.querySelectorAll(".tile").forEach((tile, index) => {
        tile.style.animationDelay = `${index * 0.05}s`;
      });

      // Lightbox functionality
      const lightbox = document.querySelector(".lightbox");
      const lightboxImg = document.querySelector(".lightbox__img");
      const lightboxClose = document.querySelector(".lightbox__close");

      document.querySelectorAll("[data-lightbox]").forEach((trigger) => {
        trigger.addEventListener("click", () => {
          const imageSrc = trigger.getAttribute("data-lightbox");
          const imageAlt =
            trigger.querySelector("img")?.getAttribute("alt") ||
            "Expanded image";

          lightboxImg.src = imageSrc;
          lightboxImg.alt = imageAlt;
          lightbox?.showModal();
        });
      });

      lightboxClose?.addEventListener("click", () => {
        lightbox?.close();
      });

      lightbox?.addEventListener("click", (e) => {
        if (e.target === lightbox) {
          lightbox.close();
        }
      });

      // Keyboard navigation for lightbox
      document.addEventListener("keydown", (e) => {
        if (e.key === "Escape" && lightbox?.open) {
          lightbox.close();
        }
      });

      // Smooth scrolling for anchor links
      document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
        anchor.addEventListener("click", function (e) {
          e.preventDefault();
          const target = document.querySelector(this.getAttribute("href"));
          if (target) {
            target.scrollIntoView({
              behavior: "smooth",
              block: "start",
            });
          }
        });
      });

      // Form enhancement
      const form = document.querySelector(".contact__form");
      form?.addEventListener("submit", function (e) {
        const submitBtn = this.querySelector('button[type="submit"]');
        if (submitBtn) {
          submitBtn.textContent = "Sending...";
          submitBtn.disabled = true;
        }
      });

      // Enhanced hover effects for better interactivity
      document.querySelectorAll(".card").forEach((card) => {
        card.addEventListener("mouseenter", function () {
          this.style.transform = "translateY(-8px) rotateX(2deg)";
        });

        card.addEventListener("mouseleave", function () {
          this.style.transform = "translateY(0) rotateX(0)";
        });
      });

      // Preload critical images for better performance
      const criticalImages = [
        "assets/other/port-folio.png",
        "assets/brael/brael.png",
        "assets/tidings/tidings.png",
        "assets/other/Desktop.png",
      ];

      criticalImages.forEach((src) => {
        const img = new Image();
        img.src = src;
      });

      // Enhanced accessibility: Focus management
      document.addEventListener("keydown", (e) => {
        if (e.key === "Tab") {
          document.body.classList.add("keyboard-navigation");
        }
      });

      document.addEventListener("mousedown", () => {
        document.body.classList.remove("keyboard-navigation");
      });

      // Add focus styles for keyboard navigation
      const focusStyle = document.createElement("style");
      focusStyle.textContent = `
        .keyboard-navigation *:focus {
          outline: 2px solid var(--accent) !important;
          outline-offset: 2px !important;
        }
      `;
      document.head.appendChild(focusStyle);
    </script>
  </body>
</html>
